name: MBINCompiler

on:
  # Run on all branches except for the gh-pages branch
  push:
    branches-ignore:
      - 'gh-pages'
  pull_request:
    branches-ignore:
      - 'gh-pages'
  create:

jobs:
  build:
    name: Build and test MBINCompiler on Windows
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1
      - uses: nuget/setup-nuget@v1
        with:
          nuget-version: 'latest'
      - name: Install dependencies
        run: nuget restore NMSMV.sln
        # run: |
        #   dotnet add package AssimpNet --version 5.0.0-beta1
        #   dotnet add package MathNet.Numerics --version 4.12.0
        #   dotnet add package MSTest.TestAdapter --version 1.3.2
        #   dotnet add package MSTest.TestFramework --version 1.3.2
        #   dotnet add package Newtonsoft.Json --version 12.0.3
        #   dotnet add package OpenTK --version 3.0.1
        #   dotnet add package OpenTK.GLControl --version 3.0.1
        #   dotnet add package QuickFont.Desktop --version 4.5.7053.25687
        #   dotnet add package SharpFont --version 4.0.1
        #   dotnet add package SharpFont.Dependencies --version 2.6
      - name: Build Windows binary
        run: dotnet publish -c Release -r win-x64 -o Build/Release/ /nowarn:cs0618 NMSMV.sln
